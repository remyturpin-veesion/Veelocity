# =============================================================================
# Veelocity — Docker Environment Variables
# =============================================================================
# Copy this file to .env and fill in the required values.
#
# For development:  docker compose -f docker-compose.yml up -d
# For production:   docker compose -f docker-compose.prod.yml up -d
# =============================================================================

# -----------------------------------------------------------------------------
# Database
# -----------------------------------------------------------------------------
POSTGRES_USER=veelocity
POSTGRES_PASSWORD=veelocity
POSTGRES_DB=veelocity
# Dev uses 5433 to avoid conflicts with local PostgreSQL; prod typically uses 5432
POSTGRES_PORT=5433

# -----------------------------------------------------------------------------
# Application
# -----------------------------------------------------------------------------
# Set to false in production
DEBUG=true

# -----------------------------------------------------------------------------
# Encryption (REQUIRED)
# -----------------------------------------------------------------------------
# Fernet key (base64) used to encrypt API keys stored in the database.
# Generate with:
#   python -c "from cryptography.fernet import Fernet; print(Fernet.generate_key().decode())"
VEELOCITY_ENCRYPTION_KEY=

# -----------------------------------------------------------------------------
# Sync Settings
# -----------------------------------------------------------------------------
# Comma-separated workflow name patterns that identify deployment workflows
DEPLOYMENT_PATTERNS=deploy,release,publish

# -----------------------------------------------------------------------------
# Rate Limiting (GitHub API)
# -----------------------------------------------------------------------------
# RATE_LIMIT_MAX_PER_SYNC=500
# RATE_LIMIT_MAX_PER_HOUR=4000
# RATE_LIMIT_DELAY_MS=100

# -----------------------------------------------------------------------------
# GitHub OAuth (optional — enables "Connect with GitHub" button in Settings)
# -----------------------------------------------------------------------------
# Create an OAuth App at https://github.com/settings/developers
# GITHUB_OAUTH_CLIENT_ID=
# GITHUB_OAUTH_CLIENT_SECRET=
# OAUTH_BACKEND_BASE_URL=http://localhost:8000
# OAUTH_FRONTEND_REDIRECT_URL=http://localhost:5173

# -----------------------------------------------------------------------------
# Sentry (optional — error reporting; e.g. https://sentry.tooling.veesion.io)
# -----------------------------------------------------------------------------
# SENTRY_DSN=
# SENTRY_ENVIRONMENT=development

# -----------------------------------------------------------------------------
# Frontend (production compose only)
# -----------------------------------------------------------------------------
# The URL where the backend API is reachable from the browser.
# This is baked into the frontend at build time.
# VITE_API_BASE_URL=http://localhost:8000

# =============================================================================
# NOTE: GitHub and Linear API keys are NOT set here.
# Configure them in the app via Settings (gear icon). They are stored
# encrypted in the database using VEELOCITY_ENCRYPTION_KEY.
# =============================================================================
